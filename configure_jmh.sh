#!/bin/bash

echo ""
echo "+=========================+"
echo "| [2/3] JMH Configuration |"
echo "+=========================+"
echo ""

export JMH_ARCHIVE="benchmarks/target/benchmarks.jar"
export JMH_OPTS="-foe true -wi 5 -w 10 -i 5 -r 10 -f 3"
export JMH_OUTPUT_FOLDER="results"
export JMH_OUTPUT_FORMAT_TYPE="csv"
# Element array format: "Test Name | JMH Options"
# Note: these JMH options are test specific, in addition to global $JMH_OPTS defined above
export -a JMH_TEST_SUITE=(
        "ClassCastBenchmark|"
        "ClassInstanceOfBenchmark|"
        "BoxingBenchmark|"
        "CompactStringsBenchmark|"
        "StringConcatenationBenchmark|"
        "StringHashCodeBenchmark|"
        "StringPatternMatcherBenchmark|"
        "StringPatternSplitBenchmark|"
        "NewInstanceBenchmark|"
        "RedundantAllocationsBenchmark|"
        "MessageDigestBenchmark|"
        "RandomGeneratorBenchmark|"
        "SecureRandomGeneratorBenchmark|"
        "MapBenchmark|"
        "SetBenchmark|"
        "QueueThroughputBenchmark|"
        "QueueBurstBenchmark|"
        "IdentityHashCodeBenchmark|"
        "VectorizationPatternsSingleIntArrayBenchmark|"
        "VectorizationPatternsMultipleFloatArraysBenchmark|"
        "VectorizationPatternsMultipleIntArraysBenchmark|"
        "VectorizationScatterGatherPatternBenchmark|"
        "MegamorphicAbsClassCallBenchmark|"
        "MegamorphicInterfaceCallBenchmark|"
        "ChainingLambdaBenchmark|-prof gc"
        "ChainingAnonymousClassBenchmark|-prof gc"
        "ChainingMethodRefBoundedBenchmark|-prof gc"
        "ChainingMethodRefUnboundedBenchmark|-prof gc"
        "LambdaAllocationBenchmark|-prof gc"
        "ScalarReplacementBenchmark|-prof gc"
        "PassingConsumerVsExternalForEachIteratorBenchmark|-prof gc"
        "EnumValuesBenchmark|-prof gc"
        "LogRecordBenchmark|-prof gc"
        "StringInterpolationBenchmark|-prof gc"
    )

echo "JMH_ARCHIVE=${JMH_ARCHIVE}"
echo "JMH_OUTPUT_FOLDER=${JMH_OUTPUT_FOLDER}"
echo "JMH_OPTS=${JMH_OPTS}"
echo "JMH_OUTPUT_FORMAT_TYPE=${JMH_OUTPUT_FORMAT_TYPE}"